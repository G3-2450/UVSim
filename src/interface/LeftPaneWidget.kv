# LeftPaneWidget.kv
<LeftPaneWidget>:
    orientation: 'vertical'
    spacing: dp(22) # space between header and content
    padding: 0, dp(20), dp(20), dp(20) # Padding around window content
    #      left, top, right, bottom

    canvas.before:
        Color:
            rgba: .09, .09, .09, 1 # Background color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [dp(10)]

    #canvas.before:
    #    Color:
    #        rgba: root.bg_color
    #    RoundedRectangle:
    #        pos: self.pos
    #        size: self.size
    #        radius: [dp(10)]

    # HEADER
    BoxLayout:
        size_hint: 1, 0.1
        spacing: 10
        canvas.before:
            Color:
                rgba: root.header_bg_color
            Rectangle:
                pos: self.pos
                size: self.size
                # radius: [dp(10)]

        Label:
            text: 'UVSim'
            font_size: '40sp'
            halign: 'center'
            valign: 'center'
            text_size: self.size
            color: root.header_text_color

    
    BoxLayout:
        orientation: 'horizontal'
        spacing: dp(22) # Space between tabs and content
        size_hint_x: 1
    
        # TABS
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(16) # space between tabs
            size_hint_x: 1/3
            size_hint_y: 1
            
            ScrollView:
                bar_width: dp(10)
                do_scroll_x: False
                size_hint_y: 1

                BoxLayout:
                    id: memory_box
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    spacing: dp(16)

                    # add buttons in main

                    Button:
                        text: 'Tab 1'
                        size_hint_x: 1
                        size_hint_y: None
                        height: dp(40)
                        # Add any other styling/actions
                        background_normal: ""
                        background_color: root.button_bg_color
                        color: 1, 1, 1, 1

                    Button:
                        text: 'Tab 2'
                        size_hint_x: 1
                        size_hint_y: None
                        height: dp(40)
                        # Add any other styling/actions
                        background_normal: ""
                        background_color: root.button_bg_color
                        color: 1, 1, 1, 1

            # Flexible spacer
            #Widget: 
            #    size_hint_y: 1
           
            Button:
                id: upload_btn
                text: 'Upload'
                size_hint_x: 1
                size_hint_y: None
                height: dp(40)
                background_normal: ""
                background_color: root.button_bg_color
                color: root.button_text_color
                on_release: root.upload_file()

            Spinner:
                id: theme_spinner
                text: 'Theme'  # Unicode sun and arrow
                values: ['Light Mode', 'Dark Mode']
                size_hint_x: 1
                size_hint_y: None
                height: dp(40)
                color: 1, 1, 1, 1
                background_normal: ''
                background_color: 0.0, 0.518, 0.239, 1
                on_text: root.toggle_theme(self.text)

        # CONTENT
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(22) # Space between header, text, and button sections
            size_hint_x: 2/3
            size_hint_y: 1

            # INSTRUCTIONS
            Label:
                text: """1. Prepare a .txt file with BasicML instructions.\n2. Click the 'Upload .txt file' button to load and edit your program.\n3. File will be saved as user_program.txt after edits.\n4. You can then use Run/Step to execute the file."""
                size_hint: 1, 0.4
                text_size: self.size
                halign: 'left'
                valign: 'top'
                color: root.text_color

            # RUN & STEP BUTTONS
            BoxLayout:
                size_hint: 1, None
                spacing: 20
                height: dp(40)
                Button:
                    id: run_btn
                    text: 'Run'
                    size_hint_x: 0.5
                    size_hint_y: None
                    height: dp(40)
                    background_normal: ""
                    background_color: root.button_bg_color
                    color: root.button_text_color
                    on_release: root.run_button()

                Button:
                    id: step_btn
                    text: 'Step'
                    size_hint_x: 0.5
                    size_hint_y: None
                    height: dp(40)
                    background_normal: ""
                    background_color: root.button_bg_color
                    color: root.button_text_color
                    on_release: root.step_button()
